type {{lookup @root/registry id}} = variant {
{{#each variants}}
  {{name}}
  {{~#if fields.[1]}}: record { {{~#each fields~}} {{#if @index}}; {{/if}}{{#if name}}{{name}}: {{/if}}{{lookup @root/registry type}}{{/each~}} }
  {{~else}}
	{{~#if fields.[0]}}: {{lookup @root/registry fields.[0].type}}
    {{~/if}}
  {{/if~}}
  ;
{{/each}}
};